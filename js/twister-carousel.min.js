"use strict";function hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function addClass(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function $extendObj(e,t){if("undefined"!=typeof t)for(var i in e)void 0!=t[i]&&(e[i]=t[i])}function twister(e){var t=this;t.def={element:"carousel",interval:1e3,speed:200,easing:"ease-in-out",autoplay:!1,swipe:!0,autoHeight:!0,loop:!0,dots:!0,peek:!0,stagePadding:"40px",lazyLoad:!0,arrows:!0,arrowsColor:"",arrowsStyle:"",responsiveClass:!0,responsive:{0:{items:1},768:{items:3}},callbackSetting:function(){}},console.dir(t.def),$extendObj(t.def,e),t.element=document.getElementById(t.def.element),t.cards=t.element.children,t.count=t.cards.length;for(var i=0;i<t.count;i++)addClass(t.cards[i],"card"),t.cards[i].setAttribute("aria-hidden","true");t.cards[0].setAttribute("aria-hidden","false"),t.init()}twister.prototype.init=function(){function e(e,t){return onresize=function(){clearTimeout(t),t=setTimeout(e,100)},onresize}function t(e){s=r(e).clientX}function i(e){d=r(e).clientX,s<d?(n.goPrev(),console.log("[twister] swipe prev")):s>d&&(n.goNext(),console.log("[twister] swipe next"))}function r(e){return e.changedTouches?e.changedTouches[0]:e}var n=this;n.carouselWidth=n.element.offsetWidth,n.viewportWidth=window.innerWidth,window.addEventListener("resize",e(function(){n.carouselWidth=n.element.offsetWidth,n.viewportWidth=window.innerWidth,console.log("[twister] carousel Width: "+n.carouselWidth),console.log("[twister] viewport Width: "+n.viewportWidth)}),!1);var l=n.element.innerHTML;n.element.innerHTML='<div class="carousel--inner">'+l+"</div>",addClass(n.element,"twister"),n.element.setAttribute("aria-live","polite"),n.allSlides=0,n.curSlide=0,n.curLeft=0,n.totalSlides=n.element.querySelectorAll(".card").length,n.sliderInner=n.element.querySelector(".carousel--inner"),n.loadedCnt=0,1==n.def.peek&&(n.clone(),n.sliderInner.style.left="-100%",n.totalSlides=n.totalSlides+2),n.curSlide++,n.allSlides=n.element.querySelectorAll(".card"),n.sliderInner.style.width=100*n.totalSlides+"%";for(var o=0;o<n.totalSlides;o++)n.allSlides[o].style.width=100/n.totalSlides+"%";1==n.def.arrows&&n.addArrows(),1==n.def.dots&&(n.addDots(),n.direction="init",n.setDot());var s="",d="";n.element.addEventListener("mousedown",t,!1),n.element.addEventListener("touchstart",t,!1),n.element.addEventListener("mouseup",i,!1),n.element.addEventListener("touchend",i,!1),n.isMoving=!1,1==n.def.autoplay&&n.autoPlay()},twister.prototype.clone=function(){var e=this;addClass(e.element,"peek");var t=e.element.querySelectorAll(".card")[0].cloneNode(!0);t.setAttribute("aria-hidden","true"),e.sliderInner.appendChild(t);var i=e.element.querySelectorAll(".card")[e.totalSlides-1].cloneNode(!0);i.setAttribute("aria-hidden","true"),e.sliderInner.insertBefore(i,e.sliderInner.firstChild)},twister.prototype.addArrows=function(){var e=this;addClass(e.element,"arrows");var t=document.createElement("button"),i=document.createElement("button");addClass(t,"prevBtn"),addClass(i,"nextBtn"),e.element.prepend(t),e.element.append(i),t.innerHTML='<div class="arrow left"></div>',i.innerHTML='<div class="arrow right"></div>';var r=e.element.getElementsByTagName("button");if(""!=e.def.arrowsColor)for(var n=0;n<r.length;n++)addClass(r[n].firstChild,e.def.arrowsColor);if(""!=e.def.arrowsStyle)for(var n=0;n<r.length;n++)addClass(r[n].firstChild,e.def.arrowsStyle);i.onclick=function(){e.goNext(),console.log("[twister] next button")},t.onclick=function(){e.goPrev(),console.log("[twister] prev button")}},twister.prototype.addDots=function(){var e=this,t=document.createElement("div");e.dotContainer=t,t.className="dots--wrapper",e.element.append(t);for(var i=0;i<e.count;i++){var r=document.createElement("li");r.setAttribute("data-slide",i+1),r.setAttribute("role","button"),t.appendChild(r)}e.dotContainer.addEventListener("click",function(t){t.target&&"LI"==t.target.nodeName&&(clearTimeout(e.aP),e.goTo=t.target.getAttribute("data-slide"),e.gotoSlide(e.goTo),1==e.def.autoplay&&e.autoPlay())},!1)},twister.prototype.setDot=function(){for(var e=this,t=e.curSlide-1,i=0;i<e.count;i++)removeClass(e.dotContainer.querySelectorAll("li")[i],"active");"init"==e.direction?(t=0,addClass(e.dotContainer.querySelectorAll("li")[t],"active")):"next"==e.direction?t==e.count?(t=0,addClass(e.dotContainer.querySelectorAll("li")[t],"active")):addClass(e.dotContainer.querySelectorAll("li")[t],"active"):"prev"==e.direction&&t==-1?(t=e.count-1,addClass(e.dotContainer.querySelectorAll("li")[t],"active")):addClass(e.dotContainer.querySelectorAll("li")[t],"active")},twister.prototype.gotoSlide=function(e){for(var t=this,i=0;i<t.count+1;i++)t.sliderInner.querySelectorAll("div")[i].setAttribute("aria-hidden","true");t.curSlide<e&&(t.direction="next"),t.curSlide=e,t.sliderInner.style.transition=t.def.speed/100+"s "+t.def.easing,t.sliderInner.style.left="-"+100*t.curSlide+"%",t.sliderInner.querySelectorAll("div")[t.curSlide].setAttribute("aria-hidden","false"),t.setDot()},twister.prototype.goNext=function(){function e(){t.curSlide=1,t.sliderInner.style.transition="unset",t.sliderInner.style.left="-100%"}var t=this;if(0==t.isMoving){t.isMoving=!0,clearTimeout(t.aP),t.sliderInner.style.transition=t.def.speed/100+"s "+t.def.easing;for(var i=0;i<t.count+2;i++)t.sliderInner.querySelectorAll("div")[i].setAttribute("aria-hidden","true");t.curSlide<t.count?(t.curSlide++,t.sliderInner.style.left="-"+100*t.curSlide+"%"):(t.curSlide++,t.sliderInner.style.left="-"+100*t.curSlide+"%",setTimeout(e,t.def.interval)),t.sliderInner.querySelectorAll("div")[t.curSlide].setAttribute("aria-hidden","false"),t.direction="next",t.setDot(),setTimeout(function(){t.isMoving=!1},t.def.interval)}1==t.def.autoplay&&t.autoPlay()},twister.prototype.goPrev=function(){function e(){t.curSlide=t.count,t.sliderInner.style.transition="unset",t.sliderInner.style.left="-"+100*t.curSlide+"%"}var t=this;if(0==t.isMoving){t.isMoving=!0,clearTimeout(t.aP),t.sliderInner.style.transition=t.def.speed/100+"s "+t.def.easing;for(var i=0;i<t.count+2;i++)t.sliderInner.querySelectorAll("div")[i].setAttribute("aria-hidden","true");1==t.curSlide?(t.curSlide=t.curSlide-1,t.sliderInner.style.left="-"+100*t.curSlide+"%",setTimeout(e,t.def.interval)):(t.curSlide=t.curSlide-1,t.sliderInner.style.left="-"+100*t.curSlide+"%"),t.sliderInner.querySelectorAll("div")[t.curSlide].setAttribute("aria-hidden","false"),t.direction="prev",t.setDot(),setTimeout(function(){t.isMoving=!1},t.def.interval)}1==t.def.autoplay&&t.autoPlay()},twister.prototype.autoPlay=function(){var e=this;e.aP=setTimeout(function(){e.goNext()},e.def.interval)},twister.prototype.pause=function(){var e=this;clearTimeout(e.aP)};